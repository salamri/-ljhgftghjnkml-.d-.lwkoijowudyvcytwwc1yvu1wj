const Discord = require('discord.js');
const client = new Discord.Client();
 const prefix = "-";
client.on('ready', () => {
    console.log('I am ready!');
});

client.on('message', message => {
var prefix = "-";

    if (message.author.id === client.user.id) return;
    if (message.guild) {
   let embed = new Discord.RichEmbed()
    let args = message.content.split(' ').slice(1).join(' ');
if(message.content.split(' ')[0] == prefix + 'bc') {
    if (!args[1]) {
message.channel.send("** - Ø£Ø³ØªØ¹Ù…Ù„ : -bc [Ø§Ù„Ø±Ø³Ø§Ù„Ø©]**");
return;
}
        message.guild.members.forEach(m => {
   if(!message.member.hasPermission('ADMINISTRATOR')) return;
            var bc = new Discord.RichEmbed()
            .addField('Â» Ø§Ù„Ø³ÙŠØ±ÙØ± :', `${message.guild.name}`)
            .addField('Â» Ø§Ù„Ù…Ø±Ø³Ù„ : ', `<@${message.author.id}>`)
            .addField(' Â» Ø§Ù„Ø±Ø³Ø§Ù„Ø© : ', args)
            .setColor('#ff0000')
            m.send(`${m}`,{embed: bc})
    if(message.attachments.first()){
m.sendFile(message.attachments.first().url).catch();
}
})
}
}
});

client.on('message', message => {
  if(message.content.startsWith(prefix + "ping")) {
message.channel.send(`MessageTaken: \`${Date.now() - message.createdTimestamp}\`ms\n DiscordAPi: \`${Math.round(client.ping)}\`ms\nAverage: \`${Math.round(client.pings[0])}\`ms. `)
}
});

 client.on('message', message => {
        var  user = message.mentions.users.first() || message.author;
    if (message.content.startsWith("-avatar")) {
message.channel.send(`This avatar For ${user} link : ${user.avatarURL}`);
}
});

var version = '11.0.0';
client.on('message', message => {
if (message.content === prefix+'stats'){
     if(!message.channel.guild) return message.reply('** - ÙÙ‚Ø· Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª .**');
var embed = new Discord.RichEmbed()
.setDescription(`**Ping : ${Date.now() - message.createdTimestamp}
 Servers  : ${client.guilds.size}
  Users : ${client.users.size}
 Channels : ${client.channels.size}
 Discord.js : v${version}
**`)
 .setFooter(`LeBot.`, client.user.avatarURL)
    message.channel.sendEmbed(embed)
}
});

client.on('message', async message => {
  let args = message.content.split(" ");
  if(message.content.startsWith(prefix + "mute")) {
    if(!message.member.hasPermission("MANAGE_ROLES")) return message.reply('**Ø£Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù„Ø§Ø²Ù…Ø© . ÙŠØ¬Ø¨ ØªÙˆÙØ± Ø®Ø§ØµÙŠØ© Manage Roles**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!message.guild.member(client.user).hasPermission("MANAGE_ROLES")) return message.reply('**Ø£Ù†Ø§ Ù„Ø§ Ø§Ù…Ù„Ùƒ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„ÙƒØ§ÙÙŠØ© . ÙŠÙ„Ø²Ù… Ø®ØµØ§Ø¦Øµ Manage Roles Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø±**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    let mention = message.mentions.members.first();
    if(!mention) return message.reply('**Ù…Ù†Ø´Ù† Ø¹Ø¶Ùˆ Ù„Ø£Ø³ÙƒØ§ØªÙ‡ ( Ù„Ø£Ø¹Ø·Ø§Ø¦Ø© Ù…ÙŠÙˆØª ) ÙƒØªØ§Ø¨ÙŠ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(mention.highestRole.position >= message.guild.member(message.author).highestRole.positon) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¹Ø·Ø§Ø¡ Ù„Ù…ÙŠÙˆØª Ø´Ø®Øµ Ø±ØªØ¨ØªÙ‡ Ø§Ø¹Ù„Ù‰ Ù…Ù†Ùƒ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });
    if(mention.highestRole.positon >= message.guild.member(client.user).highestRole.positon) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ø¹Ø·Ø§Ø¡ Ù…ÙŠÙˆØª Ù„Ø´Ø®Øµ Ø±ØªØ¨ØªÙ‡ Ø§Ø¹Ù„Ù‰ Ù…Ù†ÙŠ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });
    if(mention.id === message.author.id) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¹Ø·Ø§Ø¡ Ù…ÙŠÙˆØª  Ù„Ù†ÙØ³Ùƒ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    let duration = args[2];
    if(!duration) return message.reply('**Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ Ù„ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø¹Ù† Ø§Ù„Ø´Ø®Øµ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(isNaN(duration)) return message.reply('**Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ ØµØ­ÙŠØ­**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    let reason = message.content.split(" ").slice(3).join(" ");
    if(!reason) reason = "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";

    let thisEmbed = new Discord.RichEmbed()
    .setAuthor(mention.user.username, mention.user.avatarURL)
    .setTitle('ØªÙ… Ø§ØºØ·Ø§Ø¦Ùƒ Ù…ÙŠÙˆØª Ø¨Ø³ÙŠØ±ÙØ±')
    .setThumbnail(mention.user.avatarURL)
    .addField('# - Ø§Ù„Ø³ÙŠØ±ÙØ±',message.guild.name,true)
    .addField('# - ØªÙ… Ø§Ø¹Ø·Ø§Ø¦Ùƒ Ù…ÙŠÙˆØª Ø¨ÙˆØ§Ø³Ø·Ø©',message.author,true)
    .addField('# - Ø§Ù„Ø³Ø¨Ø¨',reason)

    let role = message.guild.roles.find('name', 'Muted') || message.guild.roles.get(r => r.name === 'Muted');
    if(!role) try {
      message.guild.createRole({
        name: "Muted",
        permissions: 0
      }).then(r => {
        message.guild.channels.forEach(c => {
          c.overwritePermissions(r , {
            SEND_MESSAGES: false,
            READ_MESSAGES_HISTORY: false,
            ADD_REACTIONS: false
          });
        });
      });
    } catch(e) {
      console.log(e.stack);
    }
    mention.addRole(role).then(() => {
      mention.send(thisEmbed);
      message.channel.send(`**:white_check_mark: ${mention.user.username} muted in the server ! :zipper_mouth:  **  `);
      mention.setMute(true);
    });
    setTimeout(() => {
      if(duration === 0) return;
      if(!mention.has.roles(role)) return;
      mention.setMute(false);
      mention.removeRole(role);
      message.channel.send(`**:white_check_mark: ${mention.user.username} unmuted in the server ! :neutral_face:  **  `);
    },duration * 60000);
  } else if(message.content.startsWith(prefix + "unmute")) {
    let mention = message.mentions.members.first();
    let role = message.guild.roles.find('name', 'Muted') || message.guild.roles.get(r => r.name === 'Muted');
    if(!message.member.hasPermission("MANAGE_ROLES")) return message.reply('**Ø£Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù„Ø§Ø²Ù…Ø© . ÙŠØ¬Ø¨ ØªÙˆÙØ± Ø®Ø§ØµÙŠØ© `Manage Roles`**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!message.guild.member(client.user).hasPermission("MANAGE_ROLES")) return message.reply('**Ø£Ù†Ø§ Ù„Ø§ Ø§Ù…Ù„Ùƒ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„ÙƒØ§ÙÙŠØ© . ÙŠÙ„Ø²Ù… Ø®ØµØ§Ø¦Øµ `Manage Roles` Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø±**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!mention) return message.reply('**Ù…Ù†Ø´Ù† Ø§Ù„Ø´Ø®Øµ Ù„ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø¹Ù†Ù‡**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

      mention.removeRole(role);
      mention.setMute(false);
      message.channel.send(`**:white_check_mark: ${mention.user.username} unmuted in the server ! :neutral_face:  **  `);
  }
});



client.on('message', async message => {
  if(message.author.bot) return;
  if(message.channel.type === "dm") return;

  let args = message.content.split(" ");
  let command = args[0];

  if(message.content.startsWith(prefix + "clear")) {
    if(!message.member.hasPermission("MANAGEP_MESSAGES")) return message.reply('**Ø§Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„ÙƒØ§ÙÙŠØ©.**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!args[1]) {
      var stop = true;
      var msg = parseInt(100);

      stop = false;
      setTimeout(() => {
        stop = true;
      },3005);
      setInterval(() => {
        if(stop === true) return;
        message.channel.fetchMessages({
          limit: msg
        }).then(m => {
          message.channel.bulkDelete(msg).then(() => {
            message.channel.send(`${message.author},\n\`\`\`ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¨Ù†Ø¬Ø§Ø­\`\`\``).then(msg => {
              msg.delete(3000);
            });
          });
        });
      },1000);
    } else if(args[1]) {
      if(args[1] <= 100) {
          message.channel.fetchMessages({
              limit: msg
          }).then(m => {
              message.channel.bulkDelete(m).then(() => {
                  message.channel.send(`${message.author},\n\`\`\`ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¨Ù†Ø¬Ø§Ø­\`\`\``).then(msg => {
              msg.delete(3000);
                  });
              });
          });
      } else if(args[1] <= 200) {
        stop = true;
        setTimeout(() => {
          stop = false;
        },2001);
        setInterval(() => {
          if(stop === true) return;
          message.channel.fetchMessages({
            limit: msg
          }).then(m => {
            message.channel.bulkDelete(m).then(() => {
                message.channel.send(`${message.author},\n\`\`\`ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¨Ù†Ø¬Ø§Ø­\`\`\``).then(msg => {
              msg.delete(3000);
                  });
            });
          });
        },1000);
      } else if(args[1] <= 300) {
        stop = true;
        setTimeout(() => {
          stop = false;
        },2001);
        setInterval(() => {
          if(stop === true) return;
          message.channel.fetchMessages({
            limit: msg
          }).then(m => {
            message.channel.bulkDelete(m).then(() => {
            message.channel.send(`${message.author},\n\`\`\`ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¨Ù†Ø¬Ø§Ø­\`\`\``).then(msg => {
              msg.delete(3000);
                  });
            });
          });
        });
      }
    }
  }
});


 

client.on('message', function(msg) {
    if(msg.content.startsWith (prefix  + 'server')) {
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .addField('** Server Loction :**',`** __${msg.guild.region}__ **`,true)
            .addField('**Server Owner :**',`**${msg.guild.owner}**`,true)
                  .addField('**Server ID**',`**${msg.guild.id}**`,true)
      .addField('**Roles :**',`** __${msg.guild.roles.size}__ **`,true)
      .addField('**Members :**',`** __${msg.guild.memberCount}__ **`,true)
      .addField('**Text Channels :**',`** __${msg.guild.channels.filter(m => m.type === 'text').size}__** `,true)
      .addField('**Voice Channels :**',`** __${msg.guild.channels.filter(m => m.type === 'voice').size}__ **`,true)
      msg.channel.send({embed:embed});
    }
  });

const giphy = require('giphy-api')();
    function getValue(key, array) {
  for (var el in array) {
    if (array[el].hasOwnProperty(key)) {
      return array[el][key];
    }
  }
}

    client.on('message', message => {
    if(message.content.startsWith(prefix + 'gif')) {
        sb = message.content.substring(4)
      giphy.random({
        tag: sb,
        rating: 'g',
        fmt: 'json'
      }, function(err, res) {
        if (getValue("image_url", res)) {

          message.channel.send({files:[{
              attachment: getValue("image_url", res),
              name: 'gif'+sb+'.gif'
          }]
        });
        }

      });
      }
});


client.on('message', message => {
if (message.author.codes) return;
if (!message.content.startsWith(prefix)) return;

let command = message.content.split(" ")[0];
command = command.slice(prefix.length);

let args = message.content.split(" ").slice(1);

if (command == "ban") {
             if(!message.channel.guild) return message.reply(':x: **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
       
if(!message.guild.member(message.author).hasPermission("BAN_MEMBERS")) return message.reply(":x:**Ø§Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ù‡**");
if(!message.guild.member(client.user).hasPermission("BAN_MEMBERS")) return message.reply(":x: **Ù„ÙŠØ³ Ù…Ø¹ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**");
let user = message.mentions.users.first();

if (message.mentions.users.size < 1) return message.reply("- **Ù…Ù†Ø´Ù† Ø´Ø®Øµ**");
if (!message.guild.member(user)
.bannable) return message.reply(":x:**ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø±ØªØ¨Ø© Ø§Ù„Ø¨ÙˆØª Ø§Ø¹Ù„ÙŠ Ù…Ù† Ø±ØªØ¨Ù‡ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªØ¨Ù†ÙŠØ¯Ø©**");


message.guild.member(user).ban(7, user);

message.channel.send(`**:white_check_mark: Â»  ${user.tag} banned from the server ! :airplane: **  `)

}
});


client.on('message', message => {
if (message.author.codes) return;
if (!message.content.startsWith(prefix)) return;

let command = message.content.split(" ")[0];
command = command.slice(prefix.length);

let args = message.content.split(" ").slice(1);

if (command == "kick") {
             if(!message.channel.guild) return message.reply(':x: **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
       
if(!message.guild.member(message.author).hasPermission("KICK_MEMBERS")) return message.reply(":x:**Ø§Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ù‡**");
if(!message.guild.member(client.user).hasPermission("KICK_MEMBERS")) return message.reply(":x: **Ù„ÙŠØ³ Ù…Ø¹ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**");
let user = message.mentions.users.first();

if (message.mentions.users.size < 1) return message.reply("- **Ù…Ù†Ø´Ù† Ø´Ø®Øµ**");
if (!message.guild.member(user)
.bannable) return message.reply(":x:**ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø±ØªØ¨Ø© Ø§Ù„Ø¨ÙˆØª Ø§Ø¹Ù„ÙŠ Ù…Ù† Ø±ØªØ¨Ù‡ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø·Ø±Ø¯Ø©**");


message.guild.member(user).kick(7, user);

message.channel.send(`**:white_check_mark: Â»  ${user.tag} kicked from the server ! :airplane: **  `)

}
});


    client.on('message', message => {
    if (message.content.startsWith(prefix + 'help')) {
        let pages = ['**â•­â•®â•±â•±â•±â•±â•±â•­â”â”â•®â•±â•±â•±â•­â•®\nâ”ƒâ”ƒâ•±â•±â•±â•±â•±â”ƒâ•­â•®â”ƒâ•±â•±â•­â•¯â•°â•®\nâ”ƒâ”ƒâ•±â•±â•­â”â”â”«â•°â•¯â•°â”³â”â”»â•®â•­â•¯\nâ”ƒâ”ƒâ•±â•­â”«â”ƒâ”â”«â•­â”â•®â”ƒâ•­â•®â”ƒâ”ƒ\nâ”ƒâ•°â”â•¯â”ƒâ”ƒâ”â”«â•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â”³â•®\nâ•°â”â”â”â”»â”â”â”»â”â”â”â”»â”â”â”»â”â”»â•¯\n\`\`\` General Commands \nâ–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬\n-server | Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ±ÙØ± \n-id | Ø£ÙŠØ¯ÙŠ Ø­Ø³Ø§Ø¨Ùƒ\n-emojis | Ø£ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±\n-rank | Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„ÙƒØªØ§Ø¨ÙŠ \n-stats | Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙˆØª\n-avatar | ØµÙˆØ±Ø© Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ\n-ping | Ø³Ø±Ø¹Ø© Ø§Ù„Ø£ØªØµØ§Ù„\n-gif | ØµÙˆØ±Ø© Ù…ØªØ­Ø±ÙƒÙ‡\`\`\`** ','**â•­â•®â•±â•±â•±â•±â•±â•­â”â”â•®â•±â•±â•±â•­â•®\nâ”ƒâ”ƒâ•±â•±â•±â•±â•±â”ƒâ•­â•®â”ƒâ•±â•±â•­â•¯â•°â•®\nâ”ƒâ”ƒâ•±â•±â•­â”â”â”«â•°â•¯â•°â”³â”â”»â•®â•­â•¯\nâ”ƒâ”ƒâ•±â•­â”«â”ƒâ”â”«â•­â”â•®â”ƒâ•­â•®â”ƒâ”ƒ\nâ”ƒâ•°â”â•¯â”ƒâ”ƒâ”â”«â•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â”³â•®\nâ•°â”â”â”â”»â”â”â”»â”â”â”â”»â”â”â”»â”â”»â•¯\n\`\`\`Admin Commands \nâ–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬\n-kick | Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ\n-ban | Ø­Ø¸Ø± Ø¹Ø¶Ùˆ\n-voice | Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† Ø¨Ø§Ù„ØµÙˆØª\n-bc | Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª\n-clear | Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª\n-mute | Ø§Ù„Ø£Ø³ÙƒØ§Øª\n-unmute | ÙÙƒ Ø§Ù„Ø£Ø³ÙƒØ§Øª\`\`\` ** ']

        let page = 1;

        let embed = new Discord.RichEmbed()
        .setColor('RANDOM')
        .setThumbnail('https://cdn.discordapp.com/attachments/477011368403271680/477011788987367435/monogram-l-logo-letter-overlapping-thin-line-vector-5868172.jpg')
        .setDescription(pages[page-1])

        message.channel.sendEmbed(embed).then(msg => {

            msg.react('ğŸŒ').then( r => {
                msg.react('ğŸ”Œ')


            const backwardsFilter = (reaction, user) => reaction.emoji.name === 'ğŸŒ' && user.id === message.author.id;
            const forwardsFilter = (reaction, user) => reaction.emoji.name === 'ğŸ”Œ' && user.id === message.author.id;


            const backwards = msg.createReactionCollector(backwardsFilter, { time: 20000});
            const forwards = msg.createReactionCollector(forwardsFilter, { time: 20000});



            backwards.on('collect', r => {
                if (page === 1) return;
                page--;
                embed.setDescription(pages[page-1]);
                msg.edit(embed)
            })
            forwards.on('collect', r => {
                if (page === pages.length) return;
                page++;
                embed.setDescription(pages[page-1]);
                msg.edit(embed)
            })
            })
        })
        }
    });

client.on('message', message => { 
    if (message.content.startsWith(prefix + 'emojis')) {

        const List = message.guild.emojis.map(e => e.toString()).join(" ");

        const EmojiList = new Discord.RichEmbed()
            .setTitle(':negative_squared_cross_mark: Â»  Emojis.') 
            .setAuthor(message.guild.name, message.guild.iconURL) 
            .setColor('RANDOM') 
            .setDescription(List) 
            .setFooter(message.guild.name) 
        message.channel.send(EmojiList) 
    }
});


client.on('message', async message => {
  if(message.content.startsWith(prefix + "voice")) {
  if(!message.guild.member(message.author).hasPermissions('MANAGE_CHANNELS')) return message.reply(':x: **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
  if(!message.guild.member(client.user).hasPermissions(['MANAGE_CHANNELS','MANAGE_ROLES_OR_PERMISSIONS'])) return message.reply(':x: **Ù„ÙŠØ³ Ù…Ø¹ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
  var args = message.content.split(' ').slice(1).join(' ');
  if(args && !args.includes(0)) return message.channel.send('**:negative_squared_cross_mark: Â» ÙØ´Ù„ Ø§Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ .. __ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© 0 ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ…__**');
  if(!args) args = ` Â» VoiceOnline :  ${message.guild.members.filter(s => s.voiceChannel).size} . `;
  message.channel.send('**:white_check_mark: Â» ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ Ø¨Ù†Ø¬Ø§Ø­**');
  message.guild.createChannel(`${args.replace(0, message.guild.members.filter(s => s.voiceChannel).size)}`, 'voice').then(c => {
    c.overwritePermissions(message.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
    setInterval(() => {
      c.setName(`${args.replace(0, message.guild.members.filter(s => s.voiceChannel).size)}`).catch(err => {
        if(err) return;
      });
    },3000);
  });
  }
});


var userData = {};
client.on("message", function(message){
if (message.content.startsWith(prefix + "rank")) {
	if (!userData[message.author.id]) {
		userData[message.author.id] = {Money:0,Xp:0,Level:0}
	}
     var mentionned = message.mentions.users.first();

      var x5bzm;
      if(mentionned){
          var x5bzm = mentionned;
      } else {
          var x5bzm = message.author;

      }

	
	var CulLevel = Math.floor(0.25 * Math.sqrt(userData[message.author.id].Xp +1));
	if (CulLevel > userData[message.author.id].Level) {userData[message.author.id].Level +=CulLevel}
	let pEmbed = new Discord.RichEmbed()
	.setColor("Random")
	.addField("Â» UserName :", message.author.tag)
	.addField("Â» Level :", userData[message.author.id].Level)
	.addField("Â» XP :",Math.floor(userData[message.author.id].Xp))
	message.channel.send(pEmbed);
}
if (!userData[message.author.id]) {
	userData[message.author.id] = {Money:0,Xp:0,Level:0,Like:0}
	}

userData[message.author.id].Xp+= 0.25;
userData[message.author.id].Money+= 0.25;

});





client.on("message", async message => {
	if (message.author.bot) return;
	if (message.channel.type === "dm") return message.reply('** Â» Ø§Ù„Ø£Ù…Ø± ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙÙ‚Ø· . ** ')
      if (message.content.startsWith(prefix + 'id')) {

  

				let embed = new Discord.RichEmbed()
					.setThumbnail(message.author.avatarURL)
					.setColor("#8A2BE2")
					.setDescription(`User info for: **${message.author.username}**`)
					.addField("Avatar:", `${message.author.avatarURL}`, true)
					.addField("Status:", message.author.presence.status, true)
					.addField("Bot: ", message.author.bot, true)
					.addField("Tag: ", message.author.tag, true)
					.addField("Discriminator:", message.author.discriminator, true)
					.setFooter(`Created at: ${message.author.createdAt}`)

				message.channel.send(embed)
      }
});



 client.login(process.env.BOT_TOKEN); 
